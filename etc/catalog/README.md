# Catalog

This directory contains the catalog index (`catalog.json`) which is a machine-readable inventory of all curated collections in the pipeline.

## catalog.json

The catalog is automatically generated by running:

```bash
python -m scripts.kemet_cli data catalog
# or
make catalog
```

## Structure

```json
{
  "version": 1,
  "collections": [
    {
      "source": "horner",
      "collection": "nt",
      "path": "horner/nt",
      "created_at": "2025-01-28T12:00:00Z",
      "parser_version": "horner@0.1.0",
      "counts": {
        "documents": 27,
        "segments": 7956,
        "tokens": 0
      },
      "artifacts": [
        {
          "path": "horner/nt/documents.jsonl",
          "type": "documents",
          "size_bytes": 12345,
          "row_count": 27
        },
        {
          "path": "horner/nt/segments.parquet",
          "type": "segments",
          "size_bytes": 234567,
          "row_count": 7956
        }
      ]
    }
  ]
}
```

## Usage

Applications can read the catalog to discover available data without scanning the filesystem:

```python
from scripts.utils.io import read_json

catalog = read_json("catalog/catalog.json")

for collection in catalog["collections"]:
    print(f"{collection['source']}/{collection['collection']}: {collection['counts']['segments']} segments")
```
